"use strict";(self.webpackChunktech_notes=self.webpackChunktech_notes||[]).push([[5721],{8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(6540);const l={},i=t.createContext(l);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(i.Provider,{value:n},e.children)}},9561:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=s(4848),l=s(8453);const i={sidebar_position:6},r="Helm",o={id:"k8s/helm",title:"Helm",description:"Deploy Helm Chart inside cluster",source:"@site/docs/k8s/helm.md",sourceDirName:"k8s",slug:"/k8s/helm",permalink:"/k8s/helm",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"EKS",permalink:"/k8s/eks"},next:{title:"Troubleshooting",permalink:"/k8s/troubleshooting"}},a={},c=[{value:"Deploy Helm Chart inside cluster",id:"deploy-helm-chart-inside-cluster",level:2}];function d(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"helm",children:"Helm"}),"\n",(0,t.jsx)(n.h2,{id:"deploy-helm-chart-inside-cluster",children:"Deploy Helm Chart inside cluster"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Add the Helm Repository: If you haven\u2019t already added the Helm repository, run the following command to add it:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm repo add ckotzbauer https://ckotzbauer.github.io/helm-charts\nhelm repo update\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Customize Values (Optional):"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"daemonset:\n  enabled: true\n  args:\n    - --housekeeping_interval=30s\n    - --disable_metrics=disk\n    - --enable_metrics=tcp,udp\nresources:\n  limits:\n    cpu: 100m\n    memory: 200Mi\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Deploy the Helm Chart with modificated ",(0,t.jsx)(n.em,{children:"values.yaml"}),":"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"helm install cadvisor ckotzbauer/cadvisor --namespace utils -f values.yaml\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Verify the Deployment:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kubectl get daemonset -n utils\nkubectl logs daemonset/cadvisor -n utils\n"})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);