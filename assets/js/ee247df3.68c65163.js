"use strict";(self.webpackChunktech_notes=self.webpackChunktech_notes||[]).push([[9279],{8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var o=s(6540);const r={},t=o.createContext(r);function a(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(t.Provider,{value:n},e.children)}},9884:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"k8s/eks","title":"EKS","description":"Access","source":"@site/docs/k8s/eks.md","sourceDirName":"k8s","slug":"/k8s/eks","permalink":"/k8s/eks","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"OIDC Plugin","permalink":"/k8s/oidc-login"},"next":{"title":"Helm","permalink":"/k8s/helm"}}');var r=s(4848),t=s(8453);const a={sidebar_position:5},c="EKS",i={},l=[{value:"Access",id:"access",level:2},{value:"Migrate pods from one node to another",id:"migrate-pods-from-one-node-to-another",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"eks",children:"EKS"})}),"\n",(0,r.jsx)(n.h2,{id:"access",children:"Access"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get-contexts\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl use-context\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws configure sso\n"})}),"\n",(0,r.jsx)(n.p,{children:"Export creds from AWS"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"aws eks update-kubeconfig --region <region> --name <cluster-name> --profile <profile-name>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"migrate-pods-from-one-node-to-another",children:"Migrate pods from one node to another"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get nodes -o wide\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl get nodes -l eks.amazonaws.com/nodegroup=<name>\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"kubectl cordon -l eks.amazonaws.com/nodegroup=<name>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);